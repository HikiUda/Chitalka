const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MangaContent-CUw9MNd4.js","assets/index-BBOIb04p.js","assets/index-DumX69Dr.css","assets/text-disclosure-OeiLiFFg.js","assets/button-CBBu9zPz.js","assets/BookMetaLinks-Bxlc_SFV.js","assets/AddMangaToBookmarks-Bij2xwiY.js","assets/heading-B3JxPwrU.js","assets/parseISO-D8VFmm5E.js","assets/en-US-COFYzLpy.js","assets/dropdown-menu-DRJNkDcN.js","assets/types-BAOhVOD-.js","assets/index-Dq4Dv7nz.js","assets/index-B52u3quG.js","assets/index-Bg1MQUgi.js"])))=>i.map(i=>d[i]);
import{j as e,c as W,r as i,u as st,a as ot,l as B,R as nt,i as at,_ as it,g as ct}from"./index-BBOIb04p.js";import{P as lt}from"./Page-BJCJSSRi.js";import{a as dt,C as ut,B as pt}from"./BookCardSkeleton-D3ogWpCX.js";import{H as ft}from"./heading-B3JxPwrU.js";import{u as Ce,a as ye,b as ht,c as mt,d as xt,e as vt,f as gt,g as Ct,h as yt,i as wt,j as Pt,k as bt,C as jt,l as Y,m as he,n as me,o as Et,R as k,D as Nt,p as q,q as Rt,r as St,M as At}from"./useInitMangaCatalogFilters-B0WQi9p0.js";import{B as Q,X as Ot,b as we,g as T,h as ee,i as V,e as P,u as Dt,f as Pe,S as Tt}from"./button-CBBu9zPz.js";import{I as Z}from"./input-COoXHJLR.js";import"./dropdown-menu-DRJNkDcN.js";import{S as _t}from"./search-v3xDmJYx.js";import{i as Ht,u as Lt}from"./useClearInfinityPages-Cbng7GPd.js";import{u as Mt,a as Ft}from"./useTrottle-DRV-miGT.js";import{S as x}from"./skeleton-F-vBBr6W.js";import{u as kt,a as Bt,o as It,s as $t,f as Wt,b as zt,c as Ut,h as Gt,l as Xt,d as Yt}from"./index-Bg1MQUgi.js";import{P as S,d as qt}from"./index-Cnn0Zpd9.js";import{u as Kt}from"./index-B52u3quG.js";import"./Container-RGPOtVEF.js";import"./AppAdaptiveImage-DudC7i5n.js";import"./index-E9rGp8-C.js";import"./separator-9rsH-1Uw.js";import"./move-left-BitLtMKb.js";import"./useDebounce-eOa9egCm.js";import"./parseISO-D8VFmm5E.js";import"./en-US-COFYzLpy.js";import"./types-BAOhVOD-.js";import"./index-Dq4Dv7nz.js";const Qt=t=>{const{className:r}=t,{applyFilters:s}=Ce(),o=ye.use,n=o.resetAll(),a=ht(o),c=mt(o),l=xt(o),u=vt(o),d=gt(o),f=Ct(o),g=yt(o),h=wt(o),{genres:C,resetGenres:p,searchGenres:v}=Pt(o),{tags:y,resetTags:w,searchTags:b}=bt(o);return e.jsx(jt,{className:r,common:(j,N)=>e.jsx(Y,{header:e.jsx(Rt,{toGenres:j,toTags:N}),body:e.jsxs(e.Fragment,{children:[e.jsx(k,{...a,label:"Возростной рейтинг"}),e.jsx(k,{...c,label:"Количество глав"}),e.jsx(k,{...l,max:10,label:"Рейтинг"}),e.jsx(k,{...u,label:"Количество оценнок"}),e.jsx(Nt,{...d,label:"Дата релиза"}),e.jsx(q,{...f,label:"Статус"}),e.jsx(q,{...g,label:"Тип"}),e.jsx(q,{...h,label:"В моих закладках"})]}),footer:e.jsx(Et,{onApply:s,onReset:n})}),genres:j=>e.jsx(Y,{header:e.jsx(me,{onBack:j,onReset:p,title:"Жанры",input:e.jsx(Z,{...v,variant:"clear",placeholder:"Поиск Жанров"})}),body:e.jsx(he,{...C}),footer:e.jsx(Q,{onClick:s,children:"Применить"})}),tags:j=>e.jsx(Y,{className:r,header:e.jsx(me,{onBack:j,onReset:w,title:"Теги",input:e.jsx(Z,{...b,variant:"clear",placeholder:"Поиск Тегов"})}),body:e.jsx(he,{...y}),footer:e.jsx(Q,{onClick:s,children:"Применить"})})})},Vt=t=>{const{className:r,search:s,setSearch:o}=t;return e.jsxs("div",{className:W("relative",r),children:[e.jsx(_t,{size:18,className:"absolute left-4 top-[50%] translate-[-50%]"}),e.jsx(Z,{value:s,onChangeValue:o,placeholder:"Поиск",className:"px-8"}),e.jsx(Q,{variant:"clear",size:"clear",disabled:!s,onClick:()=>o(""),className:"absolute right-0 top-[50%] translate-[-50%]",children:e.jsx(Ot,{size:18})})]})};function Zt(t){const r=t.search(),s=t.setSearch();return{search:r,setSearch:s}}function Jt(t,r){const s=i.useCallback(o=>{o.key===r&&t()},[t,r]);i.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s])}const er=t=>{const{className:r}=t,{applyFilters:s}=Ce(),o=Zt(ye.use);return Jt(s,"Enter"),e.jsx(Vt,{className:r,...o})},xe=t=>Ht({queryKey:["manga","catalog"],queryFn:async({pageParam:r})=>await ot.GET("/manga",{params:{query:{...t,limit:30,page:r}}}).then(s=>s.data),initialPageParam:1,getNextPageParam:r=>r==null?void 0:r.nextPage});function tr(){const{appliedFilters:t}=St(),{data:r,isFetching:s,isFetchingNextPage:o,refetch:n,fetchNextPage:a}=st(xe(t)),c=Lt(xe({}).queryKey),l=()=>{c(),n()};return i.useEffect(()=>()=>{c()},[]),i.useEffect(()=>{l()},[t]),{data:r==null?void 0:r.pages.flatMap(u=>(u==null?void 0:u.data)||[]),isFetching:s||o,refetch:l,fetchNextPage:a}}const rr=t=>{const{className:r,list:s,renderItem:o,isLoading:n,skeletonsNumber:a=20,action:c}=t,l=i.useMemo(()=>Array(a).fill(0).map((u,d)=>e.jsx(dt,{adaptive:"dynamic"},d)),[a]);return e.jsxs("div",{className:W("@container",r),children:[e.jsxs("div",{className:"grid gap-4 grid-cols-2 @sm:grid-cols-3 @xl:grid-cols-4 @2xl:grid-cols-5 @4xl:grid-cols-6",children:[s.map(o),n&&l.map(u=>u)]}),c]})},sr=t=>{const{input:r,sortByOrder:s,list:o,title:n,filters:a}=t;return e.jsx(lt,{children:e.jsxs("div",{className:W("grid",B.isMobile?"grid-cols-1":"grid-cols-[1fr_330px] gap-4"),children:[e.jsxs(ut,{className:"px-3",children:[e.jsxs("div",{className:"flex gap-2 items-center justify-between",children:[n,!B.isMobile&&s]}),r,o]}),!B.isMobile&&e.jsx("div",{className:"sticky w-[330px] max-h-[calc(100vh-88px)] top-17 shadow-sm rounded-xl border",children:a})]})})},or=()=>e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"h-10 mx-4 w-75"}),e.jsx(x,{className:"h-6 mx-4 w-38"}),e.jsx(x,{className:"h-18 w-full"}),e.jsxs("div",{className:"flex flex-col w-full px-4 gap-1",children:[e.jsx(x,{className:"w-full h-4"}),e.jsx(x,{className:"w-full h-4"}),e.jsx(x,{className:"w-full h-4"}),e.jsx(x,{className:"w-full h-4"})]}),e.jsxs("div",{className:"mx-4 flex justify-start flex-wrap gap-2",children:[e.jsx(x,{className:"h-8 w-15"}),e.jsx(x,{className:"h-8 w-25"}),e.jsx(x,{className:"h-8 w-15"}),e.jsx(x,{className:"h-8 w-15"}),e.jsx(x,{className:"h-8 w-20"}),e.jsx(x,{className:"h-8 w-15"}),e.jsx(x,{className:"h-8 w-20"}),e.jsx(x,{className:"h-8 w-15"}),e.jsx(x,{className:"h-8 w-20"}),e.jsx(x,{className:"h-8 w-25"}),e.jsx(x,{className:"h-8 w-15"})]}),e.jsx(x,{className:"h-10 w-50 mx-4"})]});var nr="Arrow",be=i.forwardRef((t,r)=>{const{children:s,width:o=10,height:n=5,...a}=t;return e.jsx(S.svg,{...a,ref:r,width:o,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});be.displayName=nr;var ar=be,te="Popper",[je,Ee]=we(te),[ir,Ne]=je(te),Re=t=>{const{__scopePopper:r,children:s}=t,[o,n]=i.useState(null);return e.jsx(ir,{scope:r,anchor:o,onAnchorChange:n,children:s})};Re.displayName=te;var Se="PopperAnchor",Ae=i.forwardRef((t,r)=>{const{__scopePopper:s,virtualRef:o,...n}=t,a=Ne(Se,s),c=i.useRef(null),l=T(r,c);return i.useEffect(()=>{a.onAnchorChange((o==null?void 0:o.current)||c.current)}),o?null:e.jsx(S.div,{...n,ref:l})});Ae.displayName=Se;var re="PopperContent",[cr,lr]=je(re),Oe=i.forwardRef((t,r)=>{var ie,ce,le,de,ue,pe;const{__scopePopper:s,side:o="bottom",sideOffset:n=0,align:a="center",alignOffset:c=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:h=!1,updatePositionStrategy:C="optimized",onPlaced:p,...v}=t,y=Ne(re,s),[w,b]=i.useState(null),j=T(r,D=>b(D)),[N,X]=i.useState(null),E=kt(N),m=(E==null?void 0:E.width)??0,R=(E==null?void 0:E.height)??0,_=o+(a!=="center"?"-"+a:""),O=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},oe=Array.isArray(d)?d:[d],Ue=oe.length>0,H={padding:O,boundary:oe.filter(ur),altBoundary:Ue},{refs:Ge,floatingStyles:ne,placement:Xe,isPositioned:L,middlewareData:A}=Bt({strategy:"fixed",placement:_,whileElementsMounted:(...D)=>Yt(...D,{animationFrame:C==="always"}),elements:{reference:y.anchor},middleware:[It({mainAxis:n+R,alignmentAxis:c}),u&&$t({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Xt():void 0,...H}),u&&Wt({...H}),zt({...H,apply:({elements:D,rects:fe,availableWidth:Je,availableHeight:et})=>{const{width:tt,height:rt}=fe.reference,F=D.floating.style;F.setProperty("--radix-popper-available-width",`${Je}px`),F.setProperty("--radix-popper-available-height",`${et}px`),F.setProperty("--radix-popper-anchor-width",`${tt}px`),F.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),N&&Ut({element:N,padding:l}),pr({arrowWidth:m,arrowHeight:R}),h&&Gt({strategy:"referenceHidden",...H})]}),[ae,Ye]=_e(Xe),M=ee(p);V(()=>{L&&(M==null||M())},[L,M]);const qe=(ie=A.arrow)==null?void 0:ie.x,Ke=(ce=A.arrow)==null?void 0:ce.y,Qe=((le=A.arrow)==null?void 0:le.centerOffset)!==0,[Ve,Ze]=i.useState();return V(()=>{w&&Ze(window.getComputedStyle(w).zIndex)},[w]),e.jsx("div",{ref:Ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:L?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(de=A.transformOrigin)==null?void 0:de.x,(ue=A.transformOrigin)==null?void 0:ue.y].join(" "),...((pe=A.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(cr,{scope:s,placedSide:ae,onArrowChange:X,arrowX:qe,arrowY:Ke,shouldHideArrow:Qe,children:e.jsx(S.div,{"data-side":ae,"data-align":Ye,...v,ref:j,style:{...v.style,animation:L?void 0:"none"}})})})});Oe.displayName=re;var De="PopperArrow",dr={top:"bottom",right:"left",bottom:"top",left:"right"},Te=i.forwardRef(function(r,s){const{__scopePopper:o,...n}=r,a=lr(De,o),c=dr[a.placedSide];return e.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:e.jsx(ar,{...n,ref:s,style:{...n.style,display:"block"}})})});Te.displayName=De;function ur(t){return t!==null}var pr=t=>({name:"transformOrigin",options:t,fn(r){var y,w,b;const{placement:s,rects:o,middlewareData:n}=r,c=((y=n.arrow)==null?void 0:y.centerOffset)!==0,l=c?0:t.arrowWidth,u=c?0:t.arrowHeight,[d,f]=_e(s),g={start:"0%",center:"50%",end:"100%"}[f],h=(((w=n.arrow)==null?void 0:w.x)??0)+l/2,C=(((b=n.arrow)==null?void 0:b.y)??0)+u/2;let p="",v="";return d==="bottom"?(p=c?g:`${h}px`,v=`${-u}px`):d==="top"?(p=c?g:`${h}px`,v=`${o.floating.height+u}px`):d==="right"?(p=`${-u}px`,v=c?g:`${C}px`):d==="left"&&(p=`${o.floating.width+u}px`,v=c?g:`${C}px`),{data:{x:p,y:v}}}});function _e(t){const[r,s="center"]=t.split("-");return[r,s]}var fr=Re,hr=Ae,mr=Oe,xr=Te,vr="Portal",He=i.forwardRef((t,r)=>{var l;const{container:s,...o}=t,[n,a]=i.useState(!1);V(()=>a(!0),[]);const c=s||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return c?nt.createPortal(e.jsx(S.div,{...o,ref:r}),c):null});He.displayName=vr;var gr="DismissableLayer",J="dismissableLayer.update",Cr="dismissableLayer.pointerDownOutside",yr="dismissableLayer.focusOutside",ve,Le=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Me=i.forwardRef((t,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:n,onFocusOutside:a,onInteractOutside:c,onDismiss:l,...u}=t,d=i.useContext(Le),[f,g]=i.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=i.useState({}),p=T(r,m=>g(m)),v=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(y),b=f?v.indexOf(f):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=b>=w,X=br(m=>{const R=m.target,_=[...d.branches].some(O=>O.contains(R));!N||_||(n==null||n(m),c==null||c(m),m.defaultPrevented||l==null||l())},h),E=jr(m=>{const R=m.target;[...d.branches].some(O=>O.contains(R))||(a==null||a(m),c==null||c(m),m.defaultPrevented||l==null||l())},h);return Kt(m=>{b===d.layers.size-1&&(o==null||o(m),!m.defaultPrevented&&l&&(m.preventDefault(),l()))},h),i.useEffect(()=>{if(f)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ve=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),ge(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ve)}},[f,h,s,d]),i.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),ge())},[f,d]),i.useEffect(()=>{const m=()=>C({});return document.addEventListener(J,m),()=>document.removeEventListener(J,m)},[]),e.jsx(S.div,{...u,ref:p,style:{pointerEvents:j?N?"auto":"none":void 0,...t.style},onFocusCapture:P(t.onFocusCapture,E.onFocusCapture),onBlurCapture:P(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:P(t.onPointerDownCapture,X.onPointerDownCapture)})});Me.displayName=gr;var wr="DismissableLayerBranch",Pr=i.forwardRef((t,r)=>{const s=i.useContext(Le),o=i.useRef(null),n=T(r,o);return i.useEffect(()=>{const a=o.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),e.jsx(S.div,{...t,ref:n})});Pr.displayName=wr;function br(t,r=globalThis==null?void 0:globalThis.document){const s=ee(t),o=i.useRef(!1),n=i.useRef(()=>{});return i.useEffect(()=>{const a=l=>{if(l.target&&!o.current){let u=function(){Fe(Cr,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",n.current),n.current=u,r.addEventListener("click",n.current,{once:!0})):u()}else r.removeEventListener("click",n.current);o.current=!1},c=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),r.removeEventListener("pointerdown",a),r.removeEventListener("click",n.current)}},[r,s]),{onPointerDownCapture:()=>o.current=!0}}function jr(t,r=globalThis==null?void 0:globalThis.document){const s=ee(t),o=i.useRef(!1);return i.useEffect(()=>{const n=a=>{a.target&&!o.current&&Fe(yr,s,{originalEvent:a},{discrete:!1})};return r.addEventListener("focusin",n),()=>r.removeEventListener("focusin",n)},[r,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function ge(){const t=new CustomEvent(J);document.dispatchEvent(t)}function Fe(t,r,s,{discrete:o}){const n=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});r&&n.addEventListener(t,r,{once:!0}),o?qt(n,a):n.dispatchEvent(a)}var K,z="HoverCard",[ke,ms]=we(z,[Ee]),U=Ee(),[Er,G]=ke(z),Be=t=>{const{__scopeHoverCard:r,children:s,open:o,defaultOpen:n,onOpenChange:a,openDelay:c=700,closeDelay:l=300}=t,u=U(r),d=i.useRef(0),f=i.useRef(0),g=i.useRef(!1),h=i.useRef(!1),[C,p]=Dt({prop:o,defaultProp:n??!1,onChange:a,caller:z}),v=i.useCallback(()=>{clearTimeout(f.current),d.current=window.setTimeout(()=>p(!0),c)},[c,p]),y=i.useCallback(()=>{clearTimeout(d.current),!g.current&&!h.current&&(f.current=window.setTimeout(()=>p(!1),l))},[l,p]),w=i.useCallback(()=>p(!1),[p]);return i.useEffect(()=>()=>{clearTimeout(d.current),clearTimeout(f.current)},[]),e.jsx(Er,{scope:r,open:C,onOpenChange:p,onOpen:v,onClose:y,onDismiss:w,hasSelectionRef:g,isPointerDownOnContentRef:h,children:e.jsx(fr,{...u,children:s})})};Be.displayName=z;var Ie="HoverCardTrigger",$e=i.forwardRef((t,r)=>{const{__scopeHoverCard:s,...o}=t,n=G(Ie,s),a=U(s);return e.jsx(hr,{asChild:!0,...a,children:e.jsx(S.a,{"data-state":n.open?"open":"closed",...o,ref:r,onPointerEnter:P(t.onPointerEnter,$(n.onOpen)),onPointerLeave:P(t.onPointerLeave,$(n.onClose)),onFocus:P(t.onFocus,n.onOpen),onBlur:P(t.onBlur,n.onClose),onTouchStart:P(t.onTouchStart,c=>c.preventDefault())})})});$e.displayName=Ie;var se="HoverCardPortal",[Nr,Rr]=ke(se,{forceMount:void 0}),We=t=>{const{__scopeHoverCard:r,forceMount:s,children:o,container:n}=t,a=G(se,r);return e.jsx(Nr,{scope:r,forceMount:s,children:e.jsx(Pe,{present:s||a.open,children:e.jsx(He,{asChild:!0,container:n,children:o})})})};We.displayName=se;var I="HoverCardContent",ze=i.forwardRef((t,r)=>{const s=Rr(I,t.__scopeHoverCard),{forceMount:o=s.forceMount,...n}=t,a=G(I,t.__scopeHoverCard);return e.jsx(Pe,{present:o||a.open,children:e.jsx(Sr,{"data-state":a.open?"open":"closed",...n,onPointerEnter:P(t.onPointerEnter,$(a.onOpen)),onPointerLeave:P(t.onPointerLeave,$(a.onClose)),ref:r})})});ze.displayName=I;var Sr=i.forwardRef((t,r)=>{const{__scopeHoverCard:s,onEscapeKeyDown:o,onPointerDownOutside:n,onFocusOutside:a,onInteractOutside:c,...l}=t,u=G(I,s),d=U(s),f=i.useRef(null),g=T(r,f),[h,C]=i.useState(!1);return i.useEffect(()=>{if(h){const p=document.body;return K=p.style.userSelect||p.style.webkitUserSelect,p.style.userSelect="none",p.style.webkitUserSelect="none",()=>{p.style.userSelect=K,p.style.webkitUserSelect=K}}},[h]),i.useEffect(()=>{if(f.current){const p=()=>{C(!1),u.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var y;((y=document.getSelection())==null?void 0:y.toString())!==""&&(u.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",p),()=>{document.removeEventListener("pointerup",p),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!1}}},[u.isPointerDownOnContentRef,u.hasSelectionRef]),i.useEffect(()=>{f.current&&Dr(f.current).forEach(v=>v.setAttribute("tabindex","-1"))}),e.jsx(Me,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:c,onEscapeKeyDown:o,onPointerDownOutside:n,onFocusOutside:P(a,p=>{p.preventDefault()}),onDismiss:u.onDismiss,children:e.jsx(mr,{...d,...l,onPointerDown:P(l.onPointerDown,p=>{p.currentTarget.contains(p.target)&&C(!0),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!0}),ref:g,style:{...l.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Ar="HoverCardArrow",Or=i.forwardRef((t,r)=>{const{__scopeHoverCard:s,...o}=t,n=U(s);return e.jsx(xr,{...n,...o,ref:r})});Or.displayName=Ar;function $(t){return r=>r.pointerType==="touch"?void 0:t()}function Dr(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;s.nextNode();)r.push(s.currentNode);return r}var Tr=Be,_r=$e,Hr=We,Lr=ze;function Mr({...t}){return e.jsx(Tr,{"data-slot":"hover-card",...t})}function Fr({...t}){return e.jsx(_r,{"data-slot":"hover-card-trigger",...t})}function kr({className:t,align:r="center",sideOffset:s=4,...o}){return e.jsx(Lr,{"data-slot":"hover-card-content",align:r,sideOffset:s,className:W("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...o})}function Br({asChild:t,...r}){const s=t?Tt:kr;return e.jsx(Hr,{"data-slot":"hover-card-portal",children:e.jsx(s,{...r})})}const Ir=t=>{const{className:r,trigger:s,content:o}=t;return B.isMobile?s:e.jsxs(Mr,{openDelay:1e3,closeDelay:700,children:[e.jsx(Fr,{className:r,asChild:!0,children:e.jsx("div",{children:s})}),e.jsx(Br,{side:"right",className:"w-125 flex flex-col items-start gap-2 px-0 max-h-150 overflow-auto",children:e.jsx(i.Suspense,{fallback:e.jsx(or,{}),children:o})})]})},$r=at(()=>it(()=>import("./MangaContent-CUw9MNd4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"MangaContent"),Wr=t=>{const{className:r,trigger:s,mangaId:o}=t;return e.jsx(Ir,{className:r,trigger:s,content:e.jsx($r,{mangaId:o})})},zr=()=>{const{data:t=[],isFetching:r,fetchNextPage:s}=tr(),o=Mt(()=>s(),1e3),n=Ft(()=>{r||o()});return e.jsx(sr,{title:e.jsx(ft,{color:"primary",variant:"h2",children:"Каталог Манги"}),sortByOrder:e.jsx(At,{}),input:e.jsx(er,{}),list:e.jsx(rr,{list:t,renderItem:({id:a,urlId:c,title:l,type:u,rate:d,bookmark:f,cover:g})=>e.jsx(Wr,{mangaId:c,trigger:e.jsx(pt,{adaptive:"dynamic",title:l,subtitle:u,img:g,label1:d,label2:f,to:ct.MANGA(c)})},a),isLoading:r,action:e.jsx("div",{ref:n})}),filters:e.jsx(Qt,{})})},xs=zr;export{xs as Component};
