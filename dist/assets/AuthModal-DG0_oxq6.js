const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PopUserMenuContent-CfTpwtGU.js","assets/index-BBOIb04p.js","assets/index-DumX69Dr.css","assets/history-W41l2ejp.js","assets/button-CBBu9zPz.js","assets/settings-DBn9BTzD.js","assets/arrow-right-zTTAi922.js","assets/separator-9rsH-1Uw.js","assets/index-B52u3quG.js","assets/index-Bg1MQUgi.js","assets/AppAdaptiveImage-DudC7i5n.js","assets/heading-B3JxPwrU.js","assets/skeleton-F-vBBr6W.js","assets/dialog-B9HZAobp.js","assets/index-DQY5oi3q.js","assets/LoginFrom-Cc4sDa_V.js","assets/form-m5SyGEi_.js","assets/index-E9rGp8-C.js","assets/input-COoXHJLR.js","assets/types-BAOhVOD-.js","assets/RegistrationForm-B15PfhKN.js"])))=>i.map(i=>d[i]);
import{r as l,j as o,e as U,c as z,i as R,_}from"./index-BBOIb04p.js";import{c as $,b as B,g as O,P as E,e as h,u as V,d as G,f as b,j as K,S as q,B as A}from"./button-CBBu9zPz.js";import{P as Q,h as W,R as Z,a as J,F as X,D as Y}from"./index-B52u3quG.js";import{e as y,A as N,R as ee,C as oe,g as te}from"./index-Bg1MQUgi.js";import{A as re}from"./AppAdaptiveImage-DudC7i5n.js";import{D as ne,a as se,b as ae,d as ce,e as ie}from"./dialog-B9HZAobp.js";import{H as le}from"./heading-B3JxPwrU.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ue=$("user",de);var x="Popover",[w,He]=B(x,[y]),g=y(),[pe,p]=w(x),D=e=>{const{__scopePopover:r,children:t,open:a,defaultOpen:n,onOpenChange:s,modal:c=!1}=e,i=g(r),d=l.useRef(null),[u,m]=l.useState(!1),[P,f]=V({prop:a,defaultProp:n??!1,onChange:s,caller:x});return o.jsx(ee,{...i,children:o.jsx(pe,{scope:r,contentId:G(),triggerRef:d,open:P,onOpenChange:f,onOpenToggle:l.useCallback(()=>f(C=>!C),[f]),hasCustomAnchor:u,onCustomAnchorAdd:l.useCallback(()=>m(!0),[]),onCustomAnchorRemove:l.useCallback(()=>m(!1),[]),modal:c,children:t})})};D.displayName=x;var F="PopoverAnchor",fe=l.forwardRef((e,r)=>{const{__scopePopover:t,...a}=e,n=p(F,t),s=g(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=n;return l.useEffect(()=>(c(),()=>i()),[c,i]),o.jsx(N,{...s,...a,ref:r})});fe.displayName=F;var S="PopoverTrigger",M=l.forwardRef((e,r)=>{const{__scopePopover:t,...a}=e,n=p(S,t),s=g(t),c=O(r,n.triggerRef),i=o.jsx(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":H(n.open),...a,ref:c,onClick:h(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?i:o.jsx(N,{asChild:!0,...s,children:i})});M.displayName=S;var j="PopoverPortal",[ve,he]=w(j,{forceMount:void 0}),k=e=>{const{__scopePopover:r,forceMount:t,children:a,container:n}=e,s=p(j,r);return o.jsx(ve,{scope:r,forceMount:t,children:o.jsx(b,{present:t||s.open,children:o.jsx(Q,{asChild:!0,container:n,children:a})})})};k.displayName=j;var v="PopoverContent",I=l.forwardRef((e,r)=>{const t=he(v,e.__scopePopover),{forceMount:a=t.forceMount,...n}=e,s=p(v,e.__scopePopover);return o.jsx(b,{present:a||s.open,children:s.modal?o.jsx(me,{...n,ref:r}):o.jsx(Pe,{...n,ref:r})})});I.displayName=v;var ge=K("PopoverContent.RemoveScroll"),me=l.forwardRef((e,r)=>{const t=p(v,e.__scopePopover),a=l.useRef(null),n=O(r,a),s=l.useRef(!1);return l.useEffect(()=>{const c=a.current;if(c)return W(c)},[]),o.jsx(Z,{as:ge,allowPinchZoom:!0,children:o.jsx(T,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:h(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),s.current||(i=t.triggerRef.current)==null||i.focus()}),onPointerDownOutside:h(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0,u=i.button===2||d;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:h(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pe=l.forwardRef((e,r)=>{const t=p(v,e.__scopePopover),a=l.useRef(!1),n=l.useRef(!1);return o.jsx(T,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(a.current||(i=t.triggerRef.current)==null||i.focus(),s.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:s=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&n.current&&s.preventDefault()}})}),T=l.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:m,...P}=e,f=p(v,t),C=g(t);return J(),o.jsx(X,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:s,children:o.jsx(Y,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(oe,{"data-state":H(f.open),role:"dialog",id:f.contentId,...C,...P,ref:r,style:{...P.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L="PopoverClose",xe=l.forwardRef((e,r)=>{const{__scopePopover:t,...a}=e,n=p(L,t);return o.jsx(E.button,{type:"button",...a,ref:r,onClick:h(e.onClick,()=>n.onOpenChange(!1))})});xe.displayName=L;var Ce="PopoverArrow",Re=l.forwardRef((e,r)=>{const{__scopePopover:t,...a}=e,n=g(t);return o.jsx(te,{...n,...a,ref:r})});Re.displayName=Ce;function H(e){return e?"open":"closed"}var _e=D,je=k,Ae=I;function Oe(){const{data:e}=U.useQuery("get","/user");return{data:e}}function Ee({...e}){return o.jsx(_e,{"data-slot":"popover",...e})}function be({className:e,align:r="center",sideOffset:t=4,...a}){return o.jsx(Ae,{"data-slot":"popover-content",align:r,sideOffset:t,className:z("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden m-1",'data-[side="top"]:mx-2 data-[side="bottom"]:mx-2 data-[side="rigth"]:my-2 data-[side="left"]:my-2',e),...a})}function ye({asChild:e,...r}){const t=e?q:be;return o.jsx(je,{children:o.jsx(t,{...r})})}const Ne=R(()=>_(()=>import("./PopUserMenuContent-CfTpwtGU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),"PopUserMenuContent"),Ue=e=>{const{className:r}=e,{data:t}=Oe();return o.jsxs(Ee,{children:[o.jsx(M,{asChild:!0,className:r,children:o.jsx(re,{img:t==null?void 0:t.avatar,loadFallback:o.jsx(ue,{size:30,className:"cursor-pointer"}),className:"w-9 h-9 shrink-0 cursor-pointer"})}),o.jsx(ye,{asChild:!0,children:o.jsx(Ne,{})})]})},we=R(()=>_(()=>import("./LoginFrom-Cc4sDa_V.js"),__vite__mapDeps([15,1,2,16,4,17,18,19])),"LoginFrom"),De=R(()=>_(()=>import("./RegistrationForm-B15PfhKN.js"),__vite__mapDeps([20,1,2,16,4,17,18,19])),"RegistrationForm"),ze=e=>{const{className:r}=e,[t,a]=l.useState(!0);return o.jsxs(ne,{children:[o.jsx(se,{asChild:!0,className:r,children:o.jsx(A,{variant:"ghost",className:"text-md hover:bg-primary/50",children:"Войти"})}),o.jsxs(ae,{children:[o.jsx(ce,{children:o.jsx(ie,{asChild:!0,children:o.jsx(le,{variant:"h2",children:t?"Вход":"Регестрация"})})}),t?o.jsx(we,{}):o.jsx(De,{}),o.jsx(A,{onClick:()=>a(n=>!n),variant:"ghost",children:t?"Нет аккаунта?":"Есть аккаунт?"})]})]})};export{ze as A,Ue as P,ue as U,be as a,Oe as u};
