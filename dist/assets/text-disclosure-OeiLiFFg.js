import{r,g as d,j as l,c as f,L as p}from"./index-BBOIb04p.js";import{B as m}from"./button-CBBu9zPz.js";import{B as g}from"./BookMetaLinks-Bxlc_SFV.js";function v(i,n){const s=r.useMemo(()=>i.map(t=>({...t,link:`${d.MANGA_CATALOG()}?genres=${t.id}`})),[i]),e=r.useMemo(()=>n.map(t=>({...t,link:`${d.MANGA_CATALOG()}?tags=${t.id}`,specialSimbol:"#"})),[n]),a=r.useMemo(()=>[...s,...e],[s,e]);return{genres:s,tags:e,categories:a}}const N=i=>{const{className:n,visibleCount:s=3,categories:e}=i,[a,t]=r.useState(!0);return e.length?l.jsxs("div",{className:f("flex gap-2 flex-wrap justify-start",n),children:[e.map((o,u)=>a&&u>=s?null:l.jsx(m,{size:"sm",asChild:!0,children:l.jsxs(p,{to:o.link,children:[o.specialSimbol,o.title]})},u)),e.length>s&&(a?l.jsxs(m,{size:"sm",onClick:()=>t(!1),children:["+еще ",e.length-s]}):l.jsx(m,{size:"sm",onClick:()=>t(!0),children:"...свернуть"}))]}):null},A=i=>{const{className:n,basicInfo:s}=i;return l.jsx("div",{className:f("flex justify-around gap-2 bg-muted p-2",n),children:s.map(e=>l.jsx(g,{title:e.title,links:e.value,className:""},e.title))})},B=i=>{const{className:n,text:s,defaultOpen:e=!1}=i,[a,t]=r.useState(!0),[o,u]=r.useState(!1),x=r.useRef(null);return r.useEffect(()=>{const c=x.current;if(c){const h=c.scrollHeight>c.clientHeight+10;u(h),t(!e)}},[s,e]),l.jsxs("div",{className:n,children:[l.jsx("div",{ref:x,className:f("whitespace-pre-line overflow-hidden max-h-24",!a&&"max-h-none"),children:s}),o&&l.jsx(m,{onClick:()=>t(c=>!c),variant:"clear",size:"clear",className:"text-secondary mt-2",children:a?"Подробнее...":"Скрыть"})]})};export{A as B,N as C,B as T,v as u};
